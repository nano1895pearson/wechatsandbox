$(function(){
  wx.config({
    debug: true, // Enables debugging mode. Return values of all APIs called will be shown on the client. To view the sent parameters, open the log view of developer tools on a computer browser. The parameter information can only be printed when viewed from a computer.
    appId: "<%= ENV['APPID'] %>", // Required, unique identifier of the official account
    timestamp: '1469732684', // Required, timestamp for the generated signature
    nonceStr: 'abcdefgh', // Required, random string for the generated signature
    signature: document.getElementById('signature').textContent, // Required, signature. See Appendix 1.
    jsApiList: ['onMenuShareTimeline'] // Required, list of JS APIs to be used. See Appendix 2 for the list of all JS APIs
 });

  wx.ready(function(){
    //config was successful
    console.log('config was successful')

    wx.onMenuShareTimeline({
      title: '', // Sharing title
      success: function () {
          // Callback function executed after a user confirms sharing
          console.log('success')
      },
      cancel: function () {
          // Callback function executed after a user cancels sharing
          console.log('failure')
      }
    });
  });
})